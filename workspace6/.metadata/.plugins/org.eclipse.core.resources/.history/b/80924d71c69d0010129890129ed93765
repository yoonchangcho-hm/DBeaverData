use testdb;

select * from post;
select * from user;

select p.postId,u.username, u.useremail, p.title ,p.content
from user u
join post p
on u.userId = p.userId
order by p.postId desc;

select count(*) as totalCount
from post p;

CREATE TABLE post_like (
  likeId BIGINT AUTO_INCREMENT PRIMARY KEY,
  userId BIGINT NOT NULL,
  postId BIGINT NOT NULL,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT fk_like_user FOREIGN KEY (userId) REFERENCES user(userId),
  CONSTRAINT fk_like_post FOREIGN KEY (postId) REFERENCES post(postId),
  CONSTRAINT uq_user_post UNIQUE (userId, postId) -- 중복 좋아요 방지
);